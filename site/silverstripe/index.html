<!DOCTYPE html>
<html lang="fr-FR">

<!-- Mirrored from www.aidedd.org/site/silverstripe/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Mar 2022 22:56:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
	<base ><!--[if lte IE 6]></base><![endif]-->
	<title>Silverstripe &raquo; Donjons &amp; Dragons - D&amp;D 5e</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="generator" content="SilverStripe - https://www.silverstripe.org" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="../../css/reset.css" />
	<link rel='stylesheet' href="../../css/all.min3860.css?v=1" />
	<link rel="stylesheet" href="../../css/layout7b30.css?v=4" />
	<link rel="stylesheet" href="../../css/typography30f4.css?v=3" />
	<link rel="icon" href="../../images/favicon.ico" sizes="16x16"/>
	<link rel="icon" href="../../images/favicon-32x32.png" sizes="32x32" />
	<link rel="apple-touch-icon" href="../../images/favicon-152x152.png" sizes="152x152" />
	<link rel="icon" href="../../images/favicon-192x192.png" sizes="192x192" />
</head>
<body class="Page" dir="ltr">
<header class="header">
	<!-- Google Search Engine -->
	<script src="../../../code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="../../javascript/scriptfa89.js?m=1631072145"></script>
<script async src="../../../cse.google.com/f5925.txt?cx=017780615720623253841:hzh1iovc6yw"></script>

	<div class="inner">
		<div class="unit lastUnit">
			<div class="brand">
				<a href="../../index.html">AideDD</a><br />
				<p>Un site sur le jeu de rôle Dungeons &amp; Dragons 5</p>
			</div>
			<span class="search-dropdown-icon"><i class="fa fa-search fa-inverse"></i></span>
			<div class="search-bar"><div class="gcse-searchbox-only"></div></div>
			<nav class="primary">
	<span class="nav-open-button"><span class="fa fa-bars fa-inverse"></span></span>
	<ul>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="../../dnd-5/index.html" title="D&amp;D 5">D&amp;D 5</a></li>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="../../regles/index.html" title="Introduction">Règles</a></li>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="../../adj/index.html" title="Aides de jeu">Aides de jeu</a></li>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="../../univers/index.html" title="Univers">Univers</a></li>
		
			<li class="section"><span class="fa fa-caret-up fa-inverse"></span><a href="../index.html" title="Site">Site</a></li>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="../../en/index.html" title="Dungeons &amp; Dragons 5e">English</a></li>
		
			<li class="link"><span class="fa fa-caret-up fa-inverse"></span><a href="https://forum.aidedd.org/" title="Forum">Forum</a></li>
		
	</ul>
</nav>

		</div>
	</div>

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-346920-6"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	  gtag('config', 'UA-346920-6');
	</script>
</header>
<div class="main" role="main">
	<div class="inner typography line">
       	
		<aside class="sidebar unit size1of5">
	
		<nav class="secondary">
			
				<h3><span class="fas fa-angle-down"></span><span class="fas fa-angle-up"></span> Site</h3>
				<ul>
					

	
		
			<li class="link">
				<a href="../editos/index.html" class="link">Éditos</a>
				
					<ul>
						


					</ul>
				
			</li>
		
			<li class="link">
				<a href="../statistiques/index.html" class="link">Statistiques</a>
				
			</li>
		
			<li class="link">
				<a href="../revue-de-presse/index.html" class="link">Revue de presse</a>
				
			</li>
		
			<li class="link">
				<a href="../hall-of-fame/index.html" class="link">Hall of Fame</a>
				
			</li>
		
			<li class="current">
				<a href="index.html" class="current">Silverstripe</a>
				
			</li>
		
			<li class="link">
				<a href="../phpbb/index.html" class="link">PhpBB</a>
				
			</li>
		
			<li class="link">
				<a href="../jeu-de-role/index.html" class="link">Le jeu de rôle</a>
				
			</li>
		
			<li class="link">
				<a href="../guestbook/index.html" class="link">Livre d&#039;or</a>
				
			</li>
		
			<li class="link">
				<a href="../contact/index.html" class="link">Contact</a>
				
			</li>
		
	


				</ul>
			
		</nav>
	
</aside>

<div class="content-container unit size4of5 lastUnit">
	<article>
		<div id="ads">
			<script async src="../../../pagead2.googlesyndication.com/pagead/js/f32f7.txt?client=ca-pub-5355421917378265"
			crossorigin="anonymous"></script>
			<!-- Site -->
			<ins class="adsbygoogle"
			  style="display:block"
			  data-ad-client="ca-pub-5355421917378265"
			  data-ad-slot="9670402580"
			  data-ad-format="horizontal"
			  data-full-width-responsive="true"></ins>
			<script>
			  (adsbygoogle = window.adsbygoogle || []).push({});
			</script>
		</div>
		<h1>Silverstripe</h1>
		<div class="content"><p><img src="../../assets/site/silverstripe.jpg" alt="Silverstripe" width="300" height="300" class="rightlite ss-htmleditorfield-file image" title="Silverstripe" loading="lazy"><a href="http://www.silverstripe.org/">Silverstripe</a> est le CMS utilisé par AideDD pour publier du contenu en ligne. Moins connu que les deux poids lourds Joomla (que j'ai essayé comme première option de CMS et qui ne m'a pas convaincu) et Dupral - je laisse Wordpress de côté car il me semble encore et toujours plus axé blog qu'autre chose - il faisait néanmoins partie des CMS en vogue en 2013, lorsque le site a été relancé. Techniquement, l'outil est développé en Php orienté objet par une équipe néo-zélandaise.</p><p>La communauté française de Silverstripe ne semble cependant pas encore très active, c'est pourquoi je vais partager ici les petites modifications et personnalisations que j'ai apporté au programme de base (v 4.x). En espérant que ça puisse aider certaines personnes qui débuteraient avec ce CMS.</p><h3>Installation</h3><p>Avant toute chose, j'ai essayé plusieurs fois d'installer SS4 avec Softaculous sur CPanel, sans succès. Avec FTP ça n'a pas non plus marché. La seule manière d'installer correctement Silverstripe semble donc être celle recommandée sur leur site, via composer.</p><pre class="LC20lb DKV0Md">composer create-project silverstripe/installer SS4</pre><p class="LC20lb DKV0Md">Puis déplacer tous les fichiers du répertoire SS4 à la racine du site.</p><h3>.htaccess</h3><p>Les redirections doivent être placées dans le .htaccess à la racine du site, avant la redirection de Slverstripe. Par exemple :</p><pre>Redirect 301 "/intro" "/dnd-5"<br><br>RewriteEngine On<br># Redirect non www to www<br>RewriteCond %{HTTP_HOST} ^aidedd\.org$ [NC]<br>RewriteRule ^(.*)$ https://www.aidedd.org/$1 [R=301,L]<br># Redirect non https to https<br>RewriteCond %{HTTPS} off<br>RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]<br><br>RewriteRule ^(.*)$ public/$1</pre><h3>Arborescence</h3><p>J'ai opté pour l'arborescence suggérée dans les leçons de Silverstripe.</p><pre>app<br>-- src<br>-- templates<br>public<br>-- assets<br>-- css<br>-- images<br>-- javascript<br>-- webfonts<br>silverstripe-cache<br>vendor</pre><p>Puis modifier app/_config/theme.yml en conséquences.</p><pre>----<br>Name: mytheme<br>---<br>SilverStripe\View\SSViewer:<br>themes:<br>    - '$public'<br>    - '$default'</pre><h3>Langue</h3><p>Pensez à modifier la langue de votre site pour la balise html lang. Dans app/_config.php ajouter :</p><pre>use SilverStripe\i18n\i18n;<br>i18n::set_locale('fr_FR');</pre><h3>Titre des pages</h3><p>Silverstripe ajoute le nom du site au titre html de chaque page, mais cela ne me semble pas très judicieux au niveau SEO. Dans mon cas, le site s’appelle "AideDD" mais je préfère ajouter "D&amp;D 5" que le nom du site après le nom de la page. Modifiez le template "templates/Page.ss" comme suit.</p><pre>&lt;title&gt;&lt;% if $MetaTitle %&gt;$MetaTitle&lt;% else %&gt;$Title&lt;% end_if %&gt; &amp;raquo; [titre customisé]&lt;/title&gt;</pre><h3>Nouveaux types de pages</h3><p>Créer un nouveau type de page est expliqué clairement dans les tutoriels, mais il est moins facile de trouver l'info sur comment ajouter le texte de description des nouveaux types de page et changer l'icône. Si vous avez par exemple un template <em>homepage.ss</em>, il suffit de modifier la classe comme suit dans "app/src/homepage.php". La liste des icônes est disponible <a href="https://silverstripe.github.io/silverstripe-pattern-lib/?selected=&amp;selectedKind=Admin%2FIcons">ici</a>.</p><pre>class homepage extends Page {<br>   private static $icon_home = 'font-icon-p-home'; <br>   private static $description = "Texte de description du type de page";<br>}</pre><h3>Modifier les Breadcrumbs</h3><p>Pour modifier les breadcrumbs afin que Google les reconnaisse, éditez le fichier "vendor/silverstripe/ cms/templates/ BreadcrumbsTemplate.ss" comme indiqué si vous souhaitez utiliser les balises &lt;ol&gt; et &lt;li&gt; par exemple.</p><pre>&lt;ol itemscope itemtype="http://schema.org/BreadcrumbList"&gt;&lt;% if $Pages %&gt;&lt;% loop $Pages %&gt;<br>  &lt;% if $Last %&gt;<br>    &lt;li&gt; $MenuTitle.XML&lt;/li&gt;<br>  &lt;% else %&gt;<br>    &lt;li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"&gt;<br>    &lt;% if not Up.Unlinked %&gt;&lt;a itemprop="item" href="$Link"&gt;&lt;% end_if %&gt;<br>    &lt;span itemprop="name"&gt;$MenuTitle.XML&lt;/span&gt;<br>    &lt;% if not Up.Unlinked %&gt;&lt;/a&gt;&lt;% end_if %&gt;&lt;meta itemprop="position" content="$Pos" /&gt;&lt;/li&gt;<br>  &lt;% end_if %&gt;<br>&lt;% end_loop %&gt;&lt;% end_if %&gt;&lt;/ol&gt;</pre><p>Puis modifier le fichier "public/css/layout.css" pour y ajouter quelque chose du style :</p><pre>#Breadcrumbs ol {list-style-type: none;}<br>#Breadcrumbs ol li {display: inline; color: #999;}<br>#Breadcrumbs ol li+li:before {content: "\203A"}</pre><h3>Customiser la barre d'édition</h3><p>Dans app/_config.php vous pouvez facilement ajouter ou retirer des boutons. Exemple :</p><pre>use SilverStripe\Forms\HTMLEditor\HTMLEditorConfig;<br><br>HtmlEditorConfig::get('cms')-&gt;enablePlugins('hr');<br>HtmlEditorConfig::get('cms')-&gt;enablePlugins('charmap');<br>HtmlEditorConfig::get('cms')-&gt;insertButtonsAfter('underline', 'strikethrough');<br>HtmlEditorConfig::get('cms')-&gt;insertButtonsAfter('indent', 'hr');<br>HtmlEditorConfig::get('cms')-&gt;insertButtonsAfter('hr', 'charmap');<br>HtmlEditorConfig::get('cms')-&gt;removeButtons('ssembed');</pre><p>Ensuite, pour ajouter de vos propres styles, toujours dans app/_config.php :</p><pre>$style_formats = [<br> ['title' =&gt; 'Nom du style 1', 'selector' =&gt; 'div, p', 'classes' =&gt; 'style1' ],<br> ['title' =&gt; 'Nom du style 2', 'selector' =&gt; 'div, p', 'classes' =&gt; 'style2' ]<br>];<br>HtmlEditorConfig::get('cms')-&gt;addButtonsToLine(2, 'styleselect');<br>HtmlEditorConfig::get('cms')-&gt;setOptions([ 'importcss_append' =&gt; true, 'importcss_selector_filter' =&gt; 'fake', 'style_formats' =&gt; $style_formats]);</pre><h3>Codes HTML</h3><p>Par défaut plusieurs écritures HTML sont bloquées par Silverstripe. Pour permettre de nouveaux codes HTML, ajoutez les lignes suivantes à la fin de votre fichier "app/_config.php".</p><pre>HtmlEditorConfig::get('cms')-&gt;setOption(<br> 'extended_valid_elements',<br> 'ol[start|type],i[class|title]'<br>);</pre><h3>Email admin</h3><p>L'équipe de Silverstripe m'a répondu que c'était normal, mais l'email de l'admin, nécessaire dans le cas d'un password recovery par exemple, doit être mis manuellement. Pour cela éditer le fichier "app/_config/app. yml" et ajouter à la fin :</p><pre> SilverStripe\Control\Email\Email:<br>   admin_email: 'webmaster@monsite.com'</pre><h3>W3C check</h3><p>La validation des pages par le W3C donne deux warning sur &lt;script type="application/javascript"&gt;. Pour s'en défaire, dans "vendor\silverstripe\framework\src\View\Requierements_Backend.php" commenter l'ajout du type :</p><pre>&nbsp; $htmlAttributes = [<br>// 'type' =&gt; isset($attributes['type']) ? $attributes['type'] : "application/javascript",<br> 'src' =&gt; $this-&gt;pathForFile($file),</pre><h3>Purge des versions de page</h3><p>Par défaut, Silverstripe garde une trace de toutes les versions des pages, publiées et brouillons. En quelques jours, on peut donc avoir des dizaines de versions d'une seule page en base de données, ce qui augmente la taille de la BDD de manière significative. Il existe heureusement un module, <strong>Truncator</strong>, qui permet de nettoyer automatiquement l'historique d'une page <strong>à chaque sauvegarde de celle-ci</strong>.</p><pre>composer require axllent/silverstripe-version-truncator</pre><p>On paramètre juste le nombre de versions publiées et le nombre de versions brouillons qu'on souhaite garder par page dans "vendor/axllent/silverstripe-version-truncator/_config/extension.yml".</p><p></p></div>
	</article>
	
</div>
	</div>
</div>
<footer class="footer">
	<div class="inner">
		<div class="left">
	<div id="Breadcrumbs"><ol itemscope itemtype="http://schema.org/BreadcrumbList">

	<li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
	<a itemprop="item" href="../index.html">
	<span itemprop="name">Site</span>
	</a><meta itemprop="position" content="1" /></li>
	


	<li> Silverstripe</li>

</ol>
</div>

</div><div class="right">Donjons et Dragons 5 - D&D 5</div>
	</div>
</footer>


</body>

<!-- Mirrored from www.aidedd.org/site/silverstripe/ by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 28 Mar 2022 22:56:24 GMT -->
</html>